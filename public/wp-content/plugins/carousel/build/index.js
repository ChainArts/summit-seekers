(()=>{"use strict";var e,t,r,n={981:(e,t,r)=>{r.d(t,{Z:()=>E});var n=r(196),o=r.n(n);const a=window.ReactDOM;var c=r.n(a),l=r(519),s={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},i=o().createContext&&o().createContext(s),u=function(){return u=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},u.apply(this,arguments)},d=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r};function m(e){return e&&e.map((function(e,t){return o().createElement(e.tag,u({key:t},e.attr),m(e.child))}))}function f(e){return function(t){return o().createElement(p,u({attr:u({},e.attr)},t),m(e.child))}}function p(e){var t=function(t){var r,n=e.attr,a=e.size,c=e.title,l=d(e,["attr","size","title"]),s=a||t.size||"1em";return t.className&&(r=t.className),e.className&&(r=(r?r+" ":"")+e.className),o().createElement("svg",u({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,n,l,{className:r,style:u(u({color:e.color||t.color},t.style),e.style),height:s,width:s,xmlns:"http://www.w3.org/2000/svg"}),c&&o().createElement("title",null,c),e.children)};return void 0!==i?o().createElement(i.Consumer,null,(function(e){return t(e)})):t(s)}function y(e){return f({tag:"svg",attr:{viewBox:"0 0 32 32"},child:[{tag:"path",attr:{d:"M 18.71875 6.78125 L 17.28125 8.21875 L 24.0625 15 L 4 15 L 4 17 L 24.0625 17 L 17.28125 23.78125 L 18.71875 25.21875 L 27.21875 16.71875 L 27.90625 16 L 27.21875 15.28125 Z"}}]})(e)}const w=document.querySelectorAll(".carousel-update");function v(e){const{posts:t,loading:r,error:o}=(0,l.bl)(e.categoryID);return(0,n.createElement)(n.Fragment,null,t.map((e=>(0,n.createElement)(g,{key:e.id,data:e}))))}function g({data:e}){return(0,n.createElement)("a",{href:e.link,className:"card"},(0,n.createElement)(h,{id:e.featured_media}),(0,n.createElement)("div",{className:"content"},(0,n.createElement)(y,{className:"arrow"}),(0,n.createElement)("h3",null,e.title.rendered),(0,n.createElement)("p",null,e.meta.footnotes)))}function h({id:e}){const[t]=function(e){const[t,r]=(0,n.useState)([]),[o,a]=(0,n.useState)(!0),[c,l]=(0,n.useState)(null);return(0,n.useEffect)((()=>{!async function(){try{const t=await fetch(`http://cms.localhost/wp-json/wp/v2/media/${e}`);if(!t.ok)throw new Error("Network response was not ok");const n=await t.json();r(n)}catch(e){l(e)}finally{a(!1)}}()}),[e]),[t,o,c]}(e),r=/<img [^>]*src="[^"]*"[^>]*>/;let o="";if(t.description){const e=t.description.rendered.match(r);o=e?e[0]:""}return(0,n.createElement)(n.Fragment,null,(0,n.createElement)("div",{className:"picture-container",dangerouslySetInnerHTML:{__html:t.description?o:null}}))}null!==w&&w.forEach((e=>{const t=JSON.parse(e.querySelector("pre").innerText);t&&c().render((0,n.createElement)(v,{...t}),e)}));const E=v},519:(e,t,r)=>{r.d(t,{bl:()=>a,tG:()=>o});var n=r(196);const o=async()=>{try{const e=await fetch(`${window.location.origin}/wp-json/wp/v2/categories`);return(await e.json()).filter((e=>e.count>0)).map((e=>({id:e.id,name:e.name})))}catch(e){return console.error("Error fetching categories:"),null}};function a(e){const[t,r]=(0,n.useState)([]),[o,a]=(0,n.useState)(!0),[c,l]=(0,n.useState)(null);return(0,n.useEffect)((()=>{!async function(){try{const t=await fetch(`${window.location.origin}/wp-json/wp/v2/posts?categories=${e}`);if(!t.ok)throw new Error("Network response was not ok");const n=await t.json();r(n)}catch(e){l(e)}finally{a(!1)}}()}),[e]),{posts:t,loading:o,error:c}}},196:e=>{e.exports=window.React}},o={};function a(e){var t=o[e];if(void 0!==t)return t.exports;var r=o[e]={exports:{}};return n[e](r,r.exports,a),r.exports}a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e=a(196),t=a(519),r=a(981),wp.blocks.registerBlockType("summitseekers/carousel-block",{title:"Carousel",icon:"ellipsis",category:"common",attributes:{categoryID:{type:"string"}},edit:function(n){const[o,a]=(0,e.useState)([]);return(0,e.useEffect)((()=>{!async function(){const e=await(0,t.tG)();a(e)}()}),[]),(0,e.createElement)("div",{className:"carousel-block"},(0,e.createElement)("h3",null,"Summit Seekers Carousel"),(0,e.createElement)("select",{onChange:function(e){n.setAttributes({categoryID:e.target.value})}},(0,e.createElement)("option",{disabled:!0,selected:!0},"Select your category"),o.map((t=>(0,e.createElement)("option",{key:t.id,value:t.id,selected:n.attributes.categoryID==t.id?"selected":void 0},t.name)))),(0,e.createElement)("div",{className:"carousel-preview"},n.attributes.categoryID?(0,e.createElement)(r.Z,{...n.attributes}):null))},save:function(){return null}})})();