(()=>{"use strict";var e,t,r={550:(e,t,r)=>{var n=r(196);const a=window.ReactDOM;var o=r.n(a),c=r(519);const s=document.querySelectorAll(".carousel-update");function l(e){const{posts:t,loading:r,error:a}=(0,c.bl)(e.categoryID);return(0,n.createElement)(n.Fragment,null,t.map((e=>(0,n.createElement)(i,{key:e.id,data:e}))))}function i({data:e}){return(0,n.createElement)("div",{className:"card"},(0,n.createElement)("div",{className:"image"},console.log(function(e){const[t,r]=(0,n.useState)([]),[a,o]=(0,n.useState)(!0),[c,s]=(0,n.useState)(null);return(0,n.useEffect)((()=>{!async function(){try{const t=await fetch(`http://cms.localhost/wp-json/wp/v2/media/${e}`);if(!t.ok)throw new Error("Network response was not ok");const n=await t.json();r(n)}catch(e){s(e)}finally{o(!1)}}()}),[e]),[t,a,c]}(e.featured_media))),(0,n.createElement)("div",{className:"content"},(0,n.createElement)("div",{className:"arrow"}),(0,n.createElement)("h3",null,e.title.rendered)))}null!==s&&s.forEach((e=>{const t=JSON.parse(e.querySelector("pre").innerText);t&&o().render((0,n.createElement)(l,{...t}),e)}))},519:(e,t,r)=>{r.d(t,{bl:()=>o,tG:()=>a});var n=r(196);const a=async()=>{try{const e=await fetch("http://cms.localhost/wp-json/wp/v2/categories");return(await e.json()).filter((e=>e.count>0)).map((e=>({id:e.id,name:e.name})))}catch(e){return console.error("Error fetching categories:"),null}};function o(e){const[t,r]=(0,n.useState)([]),[a,o]=(0,n.useState)(!0),[c,s]=(0,n.useState)(null);return(0,n.useEffect)((()=>{!async function(){try{const t=await fetch(`http://cms.localhost/wp-json/wp/v2/posts?categories=${e}`);if(!t.ok)throw new Error("Network response was not ok");const n=await t.json();r(n)}catch(e){s(e)}finally{o(!1)}}()}),[e]),{posts:t,loading:a,error:c}}},196:e=>{e.exports=window.React}},n={};function a(e){var t=n[e];if(void 0!==t)return t.exports;var o=n[e]={exports:{}};return r[e](o,o.exports,a),o.exports}a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e=a(196),t=a(519),a(550),wp.blocks.registerBlockType("summitseekers/carousel-block",{title:"Carousel",icon:"ellipsis",category:"common",attributes:{categoryID:{type:"string"}},edit:function(r){const[n,a]=(0,e.useState)([]);return(0,e.useEffect)((()=>{!async function(){const e=await(0,t.tG)();a(e)}()}),[]),(0,e.createElement)("div",{className:"carousel-block"},(0,e.createElement)("h3",null,"Carousel"),(0,e.createElement)("select",{onChange:function(e){r.setAttributes({categoryID:e.target.value})}},(0,e.createElement)("option",{disabled:!0,selected:!0},"Select your category"),n.map((t=>(0,e.createElement)("option",{key:t.id,value:t.id,selected:r.attributes.categoryID==t.id?"selected":void 0},t.name)))))},save:function(){return null}})})();