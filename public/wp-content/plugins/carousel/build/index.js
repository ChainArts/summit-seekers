(()=>{"use strict";var e,t,r={550:(e,t,r)=>{var a=r(196);const n=window.ReactDOM;var o=r.n(n),c=r(519);const s=document.querySelectorAll(".carousel-update");null!==s&&s.forEach((e=>{const t=JSON.parse(e.querySelector("pre").innerText);t&&o().render((0,a.createElement)(l,{...t}),e)}));const l=e=>{if(void 0===e.categoryID)return(0,a.createElement)("p",null,"Select a category");const{imageID:t,setImageID:r}=(0,a.useState)(null),{posts:n,loading:o,error:s}=(0,c.bl)(e.categoryID);return(0,a.createElement)(a.Fragment,null,n.map((e=>(0,a.createElement)(i,{key:e.id,data:e}))))};function i({data:e}){return(0,a.createElement)("div",{className:"card"},(0,a.createElement)("div",{className:"image"},(0,a.createElement)("img",{scr:""})),(0,a.createElement)("div",{className:"content"},(0,a.createElement)("div",{className:"arrow"}),(0,a.createElement)("h3",null,e.title.rendered)))}},519:(e,t,r)=>{r.d(t,{bl:()=>o,tG:()=>n});var a=r(196);const n=async()=>{try{const e=await fetch("http://cms.localhost/wp-json/wp/v2/categories");return(await e.json()).filter((e=>e.count>0)).map((e=>({id:e.id,name:e.name})))}catch(e){return console.error("Error fetching categories:"),null}};function o(e){const[t,r]=(0,a.useState)([]),[n,o]=(0,a.useState)(!0),[c,s]=(0,a.useState)(null);return(0,a.useEffect)((()=>{!async function(){try{const t=await fetch(`http://cms.localhost/wp-json/wp/v2/posts?categories=${e}`);if(!t.ok)throw new Error("Network response was not ok");const a=await t.json();r(a)}catch(e){s(e)}finally{o(!1)}}()}),[e]),{posts:t,loading:n,error:c}}},196:e=>{e.exports=window.React}},a={};function n(e){var t=a[e];if(void 0!==t)return t.exports;var o=a[e]={exports:{}};return r[e](o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e=n(196),t=n(519),n(550),wp.blocks.registerBlockType("summitseekers/carousel-block",{title:"Carousel",icon:"ellipsis",category:"common",attributes:{categoryID:{type:"string"}},edit:function(r){const[a,n]=(0,e.useState)([]);return(0,e.useEffect)((()=>{!async function(){const e=await(0,t.tG)();n(e)}()}),[]),(0,e.createElement)("div",{className:"carousel-block"},(0,e.createElement)("h3",null,"Carousel"),(0,e.createElement)("select",{onChange:function(e){r.setAttributes({categoryID:e.target.value})}},(0,e.createElement)("option",{disabled:!0,selected:!0},"Select your category"),a.map((t=>(0,e.createElement)("option",{key:t.id,value:t.id,selected:r.attributes.categoryID==t.id?"selected":void 0},t.name)))))},save:function(){return null}})})();