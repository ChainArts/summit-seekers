(()=>{"use strict";var e,t,n={550:(e,t,n)=>{var r=n(196);const o=window.ReactDOM;var a=n.n(o),c=n(519);const s=document.querySelectorAll(".carousel-update");function l(e){const{posts:t,loading:n,error:o}=(0,c.bl)(e.categoryID);return(0,r.createElement)(r.Fragment,null,t.map((e=>(0,r.createElement)(i,{key:e.id,data:e}))))}function i({data:e}){return(0,r.createElement)("div",{className:"card"},(0,r.createElement)("div",{className:"image"},(0,r.createElement)(u,{id:e.featured_media})),(0,r.createElement)("div",{className:"content"},(0,r.createElement)("div",{className:"arrow"}),(0,r.createElement)("h3",null,e.title.rendered)))}function u({id:e}){const[t]=function(e){const[t,n]=(0,r.useState)([]),[o,a]=(0,r.useState)(!0),[c,s]=(0,r.useState)(null);return(0,r.useEffect)((()=>{!async function(){try{const t=await fetch(`http://cms.localhost/wp-json/wp/v2/media/${e}`);if(!t.ok)throw new Error("Network response was not ok");const r=await t.json();n(r)}catch(e){s(e)}finally{a(!1)}}()}),[e]),[t,o,c]}(e),n=/<img [^>]*src="[^"]*"[^>]*>/;let o="";if(t.description){const e=t.description.rendered.match(n);o=e?e[0]:""}return(0,r.createElement)(r.Fragment,null,(0,r.createElement)("div",{dangerouslySetInnerHTML:{__html:t.description?o:null}}))}null!==s&&s.forEach((e=>{const t=JSON.parse(e.querySelector("pre").innerText);t&&a().render((0,r.createElement)(l,{...t}),e)}))},519:(e,t,n)=>{n.d(t,{bl:()=>a,tG:()=>o});var r=n(196);const o=async()=>{try{const e=await fetch(`${window.location.origin}/wp-json/wp/v2/categories`);return(await e.json()).filter((e=>e.count>0)).map((e=>({id:e.id,name:e.name})))}catch(e){return console.error("Error fetching categories:"),null}};function a(e){const[t,n]=(0,r.useState)([]),[o,a]=(0,r.useState)(!0),[c,s]=(0,r.useState)(null);return(0,r.useEffect)((()=>{!async function(){try{const t=await fetch(`${window.location.origin}/wp-json/wp/v2/posts?categories=${e}`);if(!t.ok)throw new Error("Network response was not ok");const r=await t.json();n(r)}catch(e){s(e)}finally{a(!1)}}()}),[e]),{posts:t,loading:o,error:c}}},196:e=>{e.exports=window.React}},r={};function o(e){var t=r[e];if(void 0!==t)return t.exports;var a=r[e]={exports:{}};return n[e](a,a.exports,o),a.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e=o(196),t=o(519),o(550),wp.blocks.registerBlockType("summitseekers/carousel-block",{title:"Carousel",icon:"ellipsis",category:"common",attributes:{categoryID:{type:"string"}},edit:function(n){const[r,o]=(0,e.useState)([]);return(0,e.useEffect)((()=>{!async function(){const e=await(0,t.tG)();o(e)}()}),[]),(0,e.createElement)("div",{className:"carousel-block"},(0,e.createElement)("h3",null,"Carousel"),(0,e.createElement)("select",{onChange:function(e){n.setAttributes({categoryID:e.target.value})}},(0,e.createElement)("option",{disabled:!0,selected:!0},"Select your category"),r.map((t=>(0,e.createElement)("option",{key:t.id,value:t.id,selected:n.attributes.categoryID==t.id?"selected":void 0},t.name)))))},save:function(){return null}})})();