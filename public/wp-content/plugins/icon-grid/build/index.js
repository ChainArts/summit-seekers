(()=>{"use strict";var e,t,r,n={519:(e,t,r)=>{r.d(t,{bl:()=>c,tG:()=>o});var n=r(196);const o=async()=>{try{const e=await fetch("http://cms.localhost/wp-json/wp/v2/categories");return(await e.json()).filter((e=>e.count>0)).map((e=>({id:e.id,name:e.name})))}catch(e){return console.error("Error fetching categories:"),null}};function c(e){const[t,r]=(0,n.useState)([]),[o,c]=(0,n.useState)(!0),[a,s]=(0,n.useState)(null);return(0,n.useEffect)((()=>{!async function(){try{const t=await fetch(`http://cms.localhost/wp-json/wp/v2/posts?categories=${e}`);if(!t.ok)throw new Error("Network response was not ok");const n=await t.json();r(n)}catch(e){s(e)}finally{c(!1)}}()}),[e]),{posts:t,loading:o,error:a}}},550:(e,t,r)=>{r.d(t,{Z:()=>i});var n=r(196);const o=window.ReactDOM;var c=r.n(o),a=r(519);const s=document.querySelectorAll(".icon-grid-update");function l(e){if(console.log(e),void 0===e.categoryID)return(0,n.createElement)("p",null,"Select a category");const{posts:t,loading:r,error:o}=(0,a.bl)(e.categoryID);return r?(0,n.createElement)("p",null,"Loading..."):o?(0,n.createElement)("p",null,"Error: ",o.message):(0,n.createElement)(n.Fragment,null,t.map((e=>(0,n.createElement)("div",{key:e.id},(0,n.createElement)("h3",null,e.title.rendered),(0,n.createElement)("div",{dangerouslySetInnerHTML:{__html:e.content.rendered}})))))}null!==s&&s.forEach((e=>{const t=JSON.parse(e.querySelector("pre").innerText);t&&c().render((0,n.createElement)(l,{...t}),e)}));const i=l},196:e=>{e.exports=window.React}},o={};function c(e){var t=o[e];if(void 0!==t)return t.exports;var r=o[e]={exports:{}};return n[e](r,r.exports,c),r.exports}c.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return c.d(t,{a:t}),t},c.d=(e,t)=>{for(var r in t)c.o(t,r)&&!c.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},c.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e=c(196),t=c(519),r=c(550),wp.blocks.registerBlockType("summitseekers/icon-grid-block",{title:"Icon Grid",icon:"ellipsis",category:"common",attributes:{categoryID:{type:"string"}},edit:function(n){const[o,c]=(0,e.useState)([]);return(0,e.useEffect)((()=>{!async function(){const e=await(0,t.tG)();c(e)}()}),[]),(0,e.createElement)("div",{className:"icon-grid-block"},(0,e.createElement)("h3",null,"Icon Grid"),(0,e.createElement)("select",{onChange:function(e){n.setAttributes({categoryID:e.target.value})}},(0,e.createElement)("option",{disabled:!0,selected:!0},"Select your category"),o.map((t=>(0,e.createElement)("option",{key:t.id,value:t.id,selected:n.attributes.categoryID==t.id?"selected":void 0},t.name)))),(0,e.createElement)("div",{className:"icon-grid-update"},n.attributes.categoryID&&(0,e.createElement)(r.Z,{...n.attributes})))},save:function(){return null}})})();